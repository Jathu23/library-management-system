<div class="audio-player-container">
  <!-- Audio Info Section -->
  <div class="audio-info container">
    <img
      class="album-cover"
      [src]="playingAudio?.coverImagePath ? 'https://localhost:7261/' + playingAudio?.coverImagePath : 'side.jpg'"
      alt="Album Cover"
    />
    <div class="song-info">
      <p class="song-title">{{ playingAudio?.title || 'No Song Playing' }}</p>
      <p class="artist">{{ playingAudio?.author || 'Unknown Author' }}</p>
    </div>
  </div>

  <div style=" margin-top: 23px; align-items: center; margin-right: 20%;">
    <!-- Controls Section -->
  <div class="controls">
    <button class="prev" (click)="skipTime(-5)">
      <i class="fas fa-backward"></i>
    </button>
    <button class="play-pause" (click)="togglePlay()">
      <i [class.fas]="isPlaying" [class.fa-pause]="isPlaying" [class.fa-play]="!isPlaying"></i>
    </button>
    <button class="next" (click)="skipTime(5)">
      <i class="fas fa-forward"></i>
    </button>
     <!-- Progress Bar Section -->
  
  </div>
  <div class="progress-bar">
    <input
      type="range"
      class="progress"
      [value]="progress"
      (input)="updateProgress($event)"
      [max]="audio.duration"
    />
    <div class="time">
      <span class="current-time">{{ currentTime }}</span>
      <span class="duration">{{ duration }}</span>
    </div>
  </div>
  </div>
 
</div>


<div class="search-container">
  <input
    type="text"
    class="search-input"
    [(ngModel)]="searchQuery"
    placeholder="Search for audiobooks..."
    (input)="filterAudiobooks()"
  />
</div>
<div class="main container">
  <!-- Grid View for Audiobooks -->
<div class="grid-container">
  <div
    class="grid-item"
    *ngFor="let audiobook of filteredAudiobooks"
    (click)="openModal(audiobook)"
  >
    <img style="width: 200px; height: 300px;"
      class="audio-cover"
      [src]="audiobook.coverImagePath ? 'https://localhost:7261/' + audiobook.coverImagePath : 'side.jpg'"
      alt="{{ audiobook.title }}"
      
    />
    <h3>{{ audiobook.title }}</h3>
    <p>Author: {{ audiobook.author }}</p>
  </div>
</div>

</div>

<mat-paginator
  [length]="totalItems"
  [pageSize]="pageSize"
  [pageSizeOptions]="[2,4,10, 15, 25, 50]"
  showFirstLastButtons
  (page)="onPageChange($event)"
  [pageIndex]="currentPage - 1"
></mat-paginator>

<!-- Modal with Audio Details -->
<div class="modal" [class.show]="isModalOpen">
  <div class="modal-content">
    <span class="close" (click)="closeModal()">&times;</span>
    <img style="width: 100%; height: 80%;"
      class="modal-image"
      [src]="selectedAudiobook?.coverImagePath ? 'https://localhost:7261/' + selectedAudiobook?.coverImagePath : 'side.jpg'"
      alt="Audiobook Cover"
      
    />
    <h2>{{ selectedAudiobook?.title }}</h2>
    <p><strong>Author:</strong> {{ selectedAudiobook?.author }}</p>
    <p><strong>Genre:</strong> {{ selectedAudiobook?.genre }}</p>
    <p><strong>Publisher:</strong> {{ selectedAudiobook?.publisher }}</p>
    <p><strong>Publish Year:</strong> {{ selectedAudiobook?.publishYear }}</p>
    <button class="play" (click)="playAudio(selectedAudiobook)" style="color: black;">
      <i class="fas" [class.fa-pause]="isPlaying" [class.fa-play]="!isPlaying"></i>
      {{ isPlaying ? 'Pause' : 'Play' }}
    </button>
  </div>
</div>
